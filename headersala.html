<!-- headersala.html -->
<header class="w3s-header" id="mainHeader">
    <button id="sidebarToggleBtn" class="w3s-sidebar-toggle" title="Alternar Menu" aria-label="Alternar Menu">‚ò∞</button>
    <div class="w3s-logo-area">
        <a href="index.html" title="P√°gina Inicial" class="logo-link">
            <svg class="w3s-logo-placeholder" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="18" fill="#007bff"/>
                <text x="50%" y="53%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="16" font-weight="bold" dy="1">P</text>
            </svg>
            <span class="logo-text">PRO Concursos</span>
        </a>
    </div>
    
    <nav class="w3s-nav-menu" id="topNav">
        <div class="nav-item">
            <button class="nav-button" data-target="cursos-menu">Cursos ‚ñº</button>
        </div>
        <div class="nav-item">
            <button class="nav-button" data-target="questoes-menu">Quest√µes ‚ñº</button>
        </div>
        <div class="nav-item">
            <button class="nav-button" data-target="flashcards-menu">Flashcards ‚ñº</button>
        </div>
    </nav>
    
    <div class="w3s-header-right-group">
        <div class="w3s-search-area">
            <input type="text" placeholder="Buscar..." aria-label="Campo de busca">
            <button type="submit" aria-label="Buscar">üîç</button>
        </div>
        <div class="w3s-header-actions">
            <!-- Bot√£o Pomodoro -->
            <button id="pomodoro-header-btn" title="Pomodoro" style="font-size:1.3em; background:none; border:none; cursor:pointer;">
                <span class="icon">üçÖ</span>
            </button>
            <!-- Dropdown Pomodoro -->
            <div id="pomodoro-header-dropdown" style="display:none; position:absolute; top:50px; right:160px; background:#fff; color:#222; border:1px solid #ccc; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.15); padding:18px 22px; z-index:200; min-width:220px;">
                <h4 style="margin:0 0 10px 0; color:#4CAF50;">Timer Pomodoro</h4>
                <select id="pomodoroTimeHeader" style="width:100%; margin-bottom:10px;">
                    <option value="25">25 minutos (Foco)</option>
                    <option value="5">5 minutos (Pausa)</option>
                    <option value="15">15 minutos (Pausa Longa)</option>
                </select>
                <button id="startPomodoroHeaderBtn" style="margin-right:8px;">Iniciar</button>
                <button id="stopPomodoroHeaderBtn">Parar</button>
                <div id="pomodoroTimerHeader" style="font-size:1.5em; margin:10px 0; color:#4CAF50; font-weight:bold; text-align:center;">25:00</div>
                <p id="pomodoroStatusHeader" style="font-size:0.95em; color:#888; text-align:center; margin:0;">Foco</p>
            </div>
            <!-- Bot√£o M√∫sica -->
            <button id="music-header-btn" title="M√∫sica" style="font-size:1.3em; background:none; border:none; cursor:pointer;">
                <span class="icon">üéµ</span>
            </button>
            <!-- Dropdown M√∫sica -->
            <div id="music-header-dropdown" style="display:none; position:absolute; top:50px; right:110px; background:#fff; color:#222; border:1px solid #ccc; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.15); padding:18px 22px; z-index:200; min-width:260px;">
                <h4 style="margin:0 0 10px 0; color:#4CAF50;">M√∫sica de Fundo</h4>
                <p style="margin:0 0 10px 0;">Clique para tocar m√∫sica relaxante do YouTube:</p>
                <button id="playMusicHeaderBtn" style="margin-right:8px;">Tocar</button>
                <button id="pauseMusicHeaderBtn">Pausar</button>
                <div id="youtubePlayerContainer" style="margin-top:10px; display:none;">
                    <iframe id="youtubePlayerHeader" width="220" height="60" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
            <button id="theme-toggle" title="Alternar Tema Claro/Escuro">
                <span class="icon theme-icon-light">‚òÄÔ∏è</span>
                <span class="icon theme-icon-dark" style="display: none;">üåô</span>
            </button>
            <button id="color-picker-btn" title="Mudar Cor de Fundo"><span class="icon">üé®</span> <span class="link-text">Cor</span></button>
            <a href="#" title="Contato"><span class="icon">üë®‚Äçüè´</span> <span class="link-text">Contato</span></a>
            <a href="https://proconcursos.com.br/personalizar.html" title="Personalizar Sala de Estudos"><span class="icon">üõ†Ô∏è</span> <span class="link-text">Personalizar Sala de Estudos</span></a>
            <div class="login-container">
                <button id="logout-btn" title="Logout"><span class="icon">üö™</span> <span class="link-text">Logout</span></button>
            </div>
        </div>
    </div>
</header>

<!-- O CSS pode ser igual ao do header.html -->
<style>
    /* ... (copie o CSS do header.html aqui, igual) ... */
</style>

<script>
// Script para dropdowns de login/cadastro (igual ao header.html)
document.addEventListener('DOMContentLoaded', function() {
    // ... (copie o script de login/cadastro do header.html aqui) ...

    // Dropdown Pomodoro
    const pomodoroBtn = document.getElementById('pomodoro-header-btn');
    const pomodoroDropdown = document.getElementById('pomodoro-header-dropdown');
    let pomodoroIntervalHeader = null;
    let timeRemainingHeader = 25 * 60;
    let isBreakHeader = false;
    let initialFocusTimeHeader = 25 * 60;

    function formatTimeHeader(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    function startPomodoroHeader() {
        if (pomodoroIntervalHeader) return;
        const select = document.getElementById('pomodoroTimeHeader');
        const timer = document.getElementById('pomodoroTimerHeader');
        const status = document.getElementById('pomodoroStatusHeader');
        const selectedTime = parseInt(select.value) * 60;
        timeRemainingHeader = selectedTime;
        initialFocusTimeHeader = selectedTime;
        isBreakHeader = select.value !== '25';
        status.textContent = isBreakHeader ? 'Pausa' : 'Foco';
        timer.textContent = formatTimeHeader(timeRemainingHeader);
        pomodoroIntervalHeader = setInterval(updatePomodoroTimerHeader, 1000);
    }

    function updatePomodoroTimerHeader() {
        const timer = document.getElementById('pomodoroTimerHeader');
        const status = document.getElementById('pomodoroStatusHeader');
        if (timeRemainingHeader <= 0) {
            clearInterval(pomodoroIntervalHeader);
            pomodoroIntervalHeader = null;
            status.textContent = 'Conclu√≠do!';
            setTimeout(() => {
                timeRemainingHeader = initialFocusTimeHeader;
                timer.textContent = formatTimeHeader(timeRemainingHeader);
                status.textContent = isBreakHeader ? 'Pausa' : 'Foco';
            }, 2000);
            return;
        }
        timeRemainingHeader--;
        timer.textContent = formatTimeHeader(timeRemainingHeader);
    }

    function stopPomodoroHeader() {
        clearInterval(pomodoroIntervalHeader);
        pomodoroIntervalHeader = null;
        const select = document.getElementById('pomodoroTimeHeader');
        const timer = document.getElementById('pomodoroTimerHeader');
        const status = document.getElementById('pomodoroStatusHeader');
        timeRemainingHeader = parseInt(select.value) * 60;
        timer.textContent = formatTimeHeader(timeRemainingHeader);
        status.textContent = 'Foco';
    }

    document.getElementById('startPomodoroHeaderBtn').onclick = startPomodoroHeader;
    document.getElementById('stopPomodoroHeaderBtn').onclick = stopPomodoroHeader;

    // Dropdown M√∫sica
    const musicBtn = document.getElementById('music-header-btn');
    const musicDropdown = document.getElementById('music-header-dropdown');
    const playMusicBtn = document.getElementById('playMusicHeaderBtn');
    const pauseMusicBtn = document.getElementById('pauseMusicHeaderBtn');
    const youtubePlayerContainer = document.getElementById('youtubePlayerContainer');
    const youtubePlayer = document.getElementById('youtubePlayerHeader');
    let isMusicPlayingHeader = false;

    function playMusicHeader() {
        youtubePlayerContainer.style.display = 'block';
        youtubePlayer.src = 'https://www.youtube.com/embed/UW2XiPwRcy4?autoplay=1';
        isMusicPlayingHeader = true;
    }
    function pauseMusicHeader() {
        youtubePlayer.src = '';
        youtubePlayerContainer.style.display = 'none';
        isMusicPlayingHeader = false;
    }
    playMusicBtn.onclick = playMusicHeader;
    pauseMusicBtn.onclick = pauseMusicHeader;

    // Mostrar/ocultar dropdowns
    if (pomodoroBtn && pomodoroDropdown) {
        pomodoroBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            pomodoroDropdown.style.display = pomodoroDropdown.style.display === 'block' ? 'none' : 'block';
            musicDropdown.style.display = 'none';
        });
    }
    if (musicBtn && musicDropdown) {
        musicBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            musicDropdown.style.display = musicDropdown.style.display === 'block' ? 'none' : 'block';
            pomodoroDropdown.style.display = 'none';
        });
    }
    document.addEventListener('click', function(e) {
        if (!e.target.closest('#pomodoro-header-dropdown') && !e.target.closest('#pomodoro-header-btn')) {
            pomodoroDropdown.style.display = 'none';
        }
        if (!e.target.closest('#music-header-dropdown') && !e.target.closest('#music-header-btn')) {
            musicDropdown.style.display = 'none';
        }
    });

    // Bot√£o de logout
    const logoutBtn = document.getElementById('logout-btn');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', function() {
            // Se estiver usando Firebase Auth:
            if (window.firebase && firebase.auth) {
                firebase.auth().signOut().then(function() {
                    window.location.href = 'index.html';
                });
            } else {
                // Apenas redireciona se n√£o houver auth
                window.location.href = 'index.html';
            }
        });
    }
});
</script> 